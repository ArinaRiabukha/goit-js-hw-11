{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const getPhotos = (img) => {\n    const API_KEY = \"47393342-0b139bb531c328d079618af8b\";\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: img,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(`Error: ${response.status}`);\n            }\n            return response.json();\n        })\n        .then((data) => data.hits)\n        .catch((error) => {\n            console.error(\"Failed to fetch photos:\", error);\n            return [];\n        });\n};\n\nexport default getPhotos;","const galleryMarkup = (images) => {\n    return images\n        .map(\n            ({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) =>`<li class=\"gallery-item\" >\n            <a href=\"${largeImageURL}\" alt=\"${tags}\" title=\"\"/>\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\">\n            <div class=\"gallery-container\">\n            <p class=\"item\"><span class=\"item-text\">Likes</span> <span>${likes}</span></p>\n            <p class=\"item\"><span class=\"item-text\">Wiews</span> <span>${views}</span></p>\n            <p class=\"item\"><span class=\"item-text\">Comments</span> <span>${comments}</span></p>\n            <p class=\"item\"><span class=\"item-text\">Downlods</span> <span>${downloads}</span></p>\n            </div></a>\n            </li>`    \n        )\n        .join(\"\");\n};\n\nexport default galleryMarkup;\n","import getPhotos from \"./js/pixabay-api\";\nimport galleryMarkup from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet Lightboxgallery = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n});\n\nconst form = document.getElementById(\"search-form\");\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    const searchInput = document.getElementById(\"search-input\");\n    const searchTerm = searchInput.value.trim();\n\n    if (!searchTerm) {\n        iziToast.info({\n            title: '',\n            message: 'Please, enter a search term!',\n            messageColor: '#FAFAFB',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n        });\n        return;\n    }\n    loader.style.display = \"block\";\n    try {\n        const data = await getPhotos(searchTerm);\n\n        if (!data.length) {\n            iziToast.info({\n                title: '',\n                backgroundColor: '#EF4040',\n                messageColor: '#FAFAFB',\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n                position: 'topRight',\n            });\n        } else {\n            gallery.innerHTML = galleryMarkup(data);\n            Lightboxgallery.refresh();\n        }\n    } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong. Please try again later.',\n            messageColor: '#FAFAFB',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n        });\n    }finally {\n        loader.style.display = \"none\";\n    }\n});\n"],"names":["getPhotos","img","API_KEY","searchParams","response","data","error","galleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","Lightboxgallery","SimpleLightbox","form","gallery","loader","event","searchTerm","iziToast"],"mappings":"wvBAAA,MAAMA,EAAaC,GAAQ,CACvB,MAAMC,EAAU,qCACVC,EAAe,IAAI,gBAAgB,CACrC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BE,CAAY,EAAE,EAClD,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,UAAUA,EAAS,MAAM,EAAE,EAE/C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMC,GAASA,EAAK,IAAI,EACxB,MAAOC,IACJ,QAAQ,MAAM,0BAA2BA,CAAK,EACvC,GACV,CACT,ECtBMC,EAAiBC,GACZA,EACF,IACG,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAiB;AAAA,uBACML,CAAa,UAAUC,CAAI;AAAA,wBAC1BF,CAAY,UAAUE,CAAI;AAAA;AAAA,yEAEuBC,CAAK;AAAA,yEACLC,CAAK;AAAA,4EACFC,CAAQ;AAAA,4EACRC,CAAS;AAAA;AAAA,kBAG5E,EACA,KAAK,EAAE,ECbhB,IAAIC,EAAkB,IAAIC,EAAe,aAAc,CACnD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAED,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAU,MAAOG,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EADc,SAAS,eAAe,cAAc,EAC3B,MAAM,KAAI,EAEzC,GAAI,CAACA,EAAY,CACbC,EAAS,KAAK,CACV,MAAO,GACP,QAAS,+BACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UACtB,CAAS,EACD,MACH,CACDH,EAAO,MAAM,QAAU,QACvB,GAAI,CACA,MAAMf,EAAO,MAAML,EAAUsB,CAAU,EAElCjB,EAAK,QASNc,EAAQ,UAAYZ,EAAcF,CAAI,EACtCW,EAAgB,QAAO,GATvBO,EAAS,KAAK,CACV,MAAO,GACP,gBAAiB,UACjB,aAAc,UACd,QAAS,2EACT,SAAU,UAC1B,CAAa,CAKR,OAAQjB,EAAO,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UACtB,CAAS,CACT,QAAK,CACGH,EAAO,MAAM,QAAU,MAC1B,CACL,CAAC"}